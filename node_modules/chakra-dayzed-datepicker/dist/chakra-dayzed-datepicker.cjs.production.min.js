"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var e=require("react"),t=require("@chakra-ui/react"),n=require("date-fns"),o=require("react-focus-lock"),r=require("dayzed");function a(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}var l=a(e),s=a(o),u=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],i=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"];function d(){return d=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},d.apply(this,arguments)}function f(e,t){if(null==e)return{};var n,o,r={},a=Object.keys(e);for(o=0;o<a.length;o++)t.indexOf(n=a[o])>=0||(r[n]=e[n]);return r}var c=function(){function e(e){this.config=void 0,this.config=e}return e.prototype.getEvents=function(){var e=this;return{onKeyDown:function(t){switch(t.key){case"ArrowDown":e.config.down&&e.config.down();break;case"ArrowLeft":e.config.left&&e.config.left();break;case"ArrowRight":e.config.right&&e.config.right();break;case"ArrowUp":e.config.up&&e.config.up()}}}},e}(),p={variant:"ghost",size:"sm"},m=function(n){var o,r=n.calendars,a=n.getBackProps,s=null==(o=n.propsConfigs)?void 0:o.dateNavBtnProps;return l.default.createElement(e.Fragment,null,l.default.createElement(t.Button,d({},a({calendars:r,offset:12}),p,s),"<<"),l.default.createElement(t.Button,d({},a({calendars:r}),p,s),"<"))},g=function(n){var o,r=n.calendars,a=n.getForwardProps,s=null==(o=n.propsConfigs)?void 0:o.dateNavBtnProps;return l.default.createElement(e.Fragment,null,l.default.createElement(t.Button,d({},a({calendars:r}),p,s),">"),l.default.createElement(t.Button,d({},a({calendars:r,offset:12}),p,s),">>"))},v=function(n){var o=n.dateObj,r=n.propsConfigs,a=n.isInRange,s=n.onMouseEnter,u=o.date,i=o.selected,f=o.selectable,c=o.today,p=n.renderProps.getDateProps,m=(null==r?void 0:r.dayOfMonthBtnProps)||{},g=m.defaultBtnProps,v=m.isInRangeBtnProps,y=m.selectedBtnProps,h=m.todayBtnProps,P=e.useMemo((function(){return{defaultBtnProps:d({size:"sm",variant:"outline",background:"transparent",borderColor:"transparent",_after:{content:"''",position:"absolute",top:"-0.125rem",left:"-0.125rem",bottom:"-0.125rem",right:"-0.125rem",borderWidth:"0.125rem",borderColor:"transparent"}},g,{_hover:f?d({bg:"purple.400"},null==g?void 0:g._hover):void 0}),isInRangeBtnProps:d({background:"purple.200"},v),selectedBtnProps:d({background:"purple.200"},y),todayBtnProps:d({borderColor:"blue.400"},h)}}),[g,v,y,h,f]);return l.default.createElement(t.Button,d({},p({dateObj:o,disabled:!f,onMouseEnter:s}),{isDisabled:!f},P.defaultBtnProps,a&&f&&P.isInRangeBtnProps,i&&f&&P.selectedBtnProps,c&&P.todayBtnProps),u.getDate())},y=function(n){var o=n.configs,a=n.propsConfigs,s=n.onMouseEnterHighlight,u=n.isInRange,i=r.useDayzed(n.dayzedHookProps),f=i.calendars,p=i.getBackProps,y=i.getForwardProps,h=e.useMemo((function(){var e=o.firstDayOfWeek,t=o.dayNames;return e&&e>0?o.dayNames.slice(e,t.length).concat(t.slice(0,e)):t}),[o.firstDayOfWeek,o.dayNames]),P=e.useCallback((function(e){var t=document.activeElement,n=document.querySelectorAll("button");n.forEach((function(o,r){var a=r+e;o===t&&(a<=n.length-1&&a>=0?n[a].focus():n[0].focus())}))}),[]),b=new c({left:function(){P(-1)},right:function(){P(1)},up:function(){P(-7)},down:function(){P(7)}});return f.length<=0?null:l.default.createElement(t.Stack,d({className:"datepicker-calendar",direction:["column","column","row"]},b.getEvents()),f.map((function(e,n){return l.default.createElement(t.VStack,{key:n,height:"100%",borderWidth:"1px",padding:"0.5rem 0.75rem"},l.default.createElement(t.HStack,null,l.default.createElement(m,{calendars:f,getBackProps:p,propsConfigs:a}),l.default.createElement(t.Heading,{size:"sm",minWidth:"5rem",textAlign:"center"},o.monthNames[e.month]," ",e.year),l.default.createElement(g,{calendars:f,getForwardProps:y,propsConfigs:a})),l.default.createElement(t.Divider,null),l.default.createElement(t.SimpleGrid,{columns:7,spacing:1,textAlign:"center"},h.map((function(e,n){return l.default.createElement(t.Box,{fontSize:"sm",fontWeight:"semibold",key:n},e)})),e.weeks.map((function(n,o){return n.map((function(n,r){var d=e.month+"-"+e.year+"-"+o+"-"+r;if(!n)return l.default.createElement(t.Box,{key:d});var f=n.date;return l.default.createElement(v,{key:d,dateObj:n,propsConfigs:a,renderProps:i,isInRange:u&&u(f),onMouseEnter:function(){s&&s(f)}})}))}))))})))},h=["configs","propsConfigs","usePortal","defaultIsOpen","closeOnSelect"],P={dateFormat:"yyyy-MM-dd",monthNames:u,dayNames:i,firstDayOfWeek:0},b=["configs","propsConfigs","id","name","usePortal","defaultIsOpen","closeOnSelect"],E=function(n){var o=n.dayzedHookProps,r=n.configs,a=n.propsConfigs,s=n.selected,u=e.useState(null),i=u[0],d=u[1];return l.default.createElement(t.Flex,{onMouseLeave:function(){d(null)}},l.default.createElement(y,{dayzedHookProps:o,configs:r,propsConfigs:a,isInRange:function(e){if(!Array.isArray(s)||null==s||!s.length)return!1;var t=s[0];return 2===s.length?t<e&&s[1]>e:i&&(t<e&&i>=e||e<t&&e>=i)},onMouseEnterHighlight:function(e){Array.isArray(s)&&null!=s&&s.length&&d(e)}}))},D={dateFormat:"MM/dd/yyyy",monthNames:u,dayNames:i,firstDayOfWeek:0};exports.Month_Names_Full=["January","February","March","April","May","June","July","August","September","October","November","December"],exports.Month_Names_Short=u,exports.RangeDatepicker=function(o){var r,a,u=o.configs,i=o.propsConfigs,c=void 0===i?{}:i,p=o.id,m=o.name,g=o.usePortal,v=o.defaultIsOpen,y=void 0!==v&&v,h=o.closeOnSelect,P=void 0===h||h,O=f(o,b),k=O.selectedDates,C=O.minDate,B=O.maxDate,S=O.onDateChange,w=O.disabled,M=e.useState(k[0]||new Date),N=M[0],x=M[1],F=e.useState(0),A=F[0],I=F[1],W=t.useDisclosure({defaultIsOpen:y}),z=W.onOpen,_=W.onClose,j=W.isOpen,H=d({},D,u),R=k[0]?""+n.format(k[0],H.dateFormat):"";R+=k[1]?" - "+n.format(k[1],H.dateFormat):"";var q=g?t.Portal:l.default.Fragment;return l.default.createElement(t.Popover,{placement:"bottom-start",variant:"responsive",isOpen:j,onOpen:z,onClose:function(){_(),x(k[0]||new Date),I(0)},isLazy:!0},l.default.createElement(t.PopoverTrigger,null,l.default.createElement(t.Input,d({onKeyPress:function(e){" "!==e.key||j||(e.preventDefault(),z())},id:p,autoComplete:"off",isDisabled:w,name:m,value:R,onChange:function(e){return e.target.value}},c.inputProps))),l.default.createElement(q,null,l.default.createElement(t.PopoverContent,d({width:"100%"},null==c||null==(r=c.popoverCompProps)?void 0:r.popoverContentProps),l.default.createElement(t.PopoverBody,d({},null==(a=c.popoverCompProps)?void 0:a.popoverBodyProps),l.default.createElement(s.default,null,l.default.createElement(E,{dayzedHookProps:{onDateSelected:function(e){var t=e.date;if(e.selectable){var n=[].concat(k);if(k.length){if(1===k.length)return k[0]<t?n.push(t):n.unshift(t),S(n),void(P&&_());if(2===n.length)return void S([t])}else n.push(t),S(n)}},selected:k,monthsToDisplay:2,date:N,minDate:C,maxDate:B,offset:A,onOffsetChanged:I,firstDayOfWeek:H.firstDayOfWeek},configs:H,propsConfigs:c,selected:k}))))))},exports.SingleDatepicker=function(o){var r,a,u=o.configs,i=o.propsConfigs,c=o.usePortal,p=o.defaultIsOpen,m=void 0!==p&&p,g=o.closeOnSelect,v=void 0===g||g,b=f(o,h),E=b.date,D=b.name,O=b.disabled,k=b.onDateChange,C=b.id,B=b.minDate,S=b.maxDate,w=e.useState(E),M=w[0],N=w[1],x=e.useState(0),F=x[0],A=x[1],I=t.useDisclosure({defaultIsOpen:m}),W=I.onOpen,z=I.onClose,_=I.isOpen,j=d({},P,u),H=c?t.Portal:l.default.Fragment;return l.default.createElement(t.Popover,{placement:"bottom-start",variant:"responsive",isOpen:_,onOpen:W,onClose:function(){z(),N(E),A(0)},isLazy:!0},l.default.createElement(t.PopoverTrigger,null,l.default.createElement(t.Input,d({onKeyPress:function(e){" "!==e.key||_||(e.preventDefault(),W())},id:C,autoComplete:"off",isDisabled:O,name:D,value:E?n.format(E,j.dateFormat):"",onChange:function(e){return e.target.value}},null==i?void 0:i.inputProps))),l.default.createElement(H,null,l.default.createElement(t.PopoverContent,d({width:"100%"},null==i||null==(r=i.popoverCompProps)?void 0:r.popoverContentProps),l.default.createElement(t.PopoverBody,d({},null==i||null==(a=i.popoverCompProps)?void 0:a.popoverBodyProps),l.default.createElement(s.default,null,l.default.createElement(y,{dayzedHookProps:{showOutsideDays:!0,onDateSelected:function(e){var t=e.date;if(e.selectable)return t instanceof Date&&!isNaN(t.getTime())?(k(t),void(v&&z())):void 0},selected:E,date:M,minDate:B,maxDate:S,offset:F,onOffsetChanged:A,firstDayOfWeek:j.firstDayOfWeek},configs:j,propsConfigs:i}))))))},exports.Weekday_Names_Short=i;
//# sourceMappingURL=chakra-dayzed-datepicker.cjs.production.min.js.map
